<!DOCTYPE html>
<html lang="ko" xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://thymeleaf.org">

<head>
    <!â€” Google tag (gtag.js) â€”>
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-HG3BDSNDG7"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-HG3BDSNDG7');
    </script>
    <!â€” Google Tag Manager â€”>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
            new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
        'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-TP7GVLC');</script>
    <!â€” End Google Tag Manager â€”>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://amazing-avocado.co.kr">
    <meta property="og:title" content="holymoly">
    <meta property="og:description" content="ì†Œì¤‘í•œ ì‚¬ëŒì—ê²Œ, ê¿ˆê°™ì€ í•˜ë£¨ë¥¼ğŸŒ¼">
    <meta property="og:image" content="/images/HolyMoly.png">

    <title>holymoly</title>
    <link rel="shortcut icon" href="images/holymoly_favicon.ico" type="image/x-icon">
    <link rel="icon" href="images/holymoly_favicon.ico" type="image/x-icon">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>

    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Black+Han+Sans&family=Jua&display=swap" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Nanum+Gothic+Coding:wght@400;700&display=swap"
          rel="stylesheet">


    <link rel="stylesheet" href="/css/order_info.css" th:href="@{/css/order_info.css}">

</head>

<body class="container">
<!â€” Google Tag Manager (noscript) â€”>
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-TP7GVLC"
                  height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!â€” End Google Tag Manager (noscript) â€”>
<div class="head text-left"><span style="color: #4DA360">ì£¼ë¬¸ ì •ë³´</span><span>ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.</span></div>

<form action="/order2" method="post">

    <!-- ì •ë³´ ë„˜ê¸°ê¸° hidden-->
    <input id="userId" type="text" name="userId" th:value="${userId}" hidden>
    <input id="filterId" type="text" name="filterId" th:value="${filterId}" hidden>
    <input id="shopId" type="text" name="shopId" th:value="${shopId}" hidden>
    <input id="itemId" type="text" name="itemId" th:value="${itemId}" hidden>
    <input id="reservationPrice" type="text" name="reservationPrice" hidden>

    <!--ìƒˆ ì •ë³´-->
    <div class="form-title">ê°€ê²©<span style="color: #FF0000"> *</span></div>

    <!--    <div class="form-group" th:if="${ItemStartPrice} == ${ItemEndPrice}">
            <p name="reservationPrice" id="priceInput2" class="form-control2"
               th:value="${ItemStartPrice} + ' ì›'" th:text="${ItemStartPrice}+' ì›'" style="color: black"></p>
        </div>-->

    <div class="form-group"> <!--th:unless="${ItemStartPrice} == ${ItemEndPrice}"-->
        <!--        <input type="text" name="reservationPrice" id="reservationPrice2" class="form-control"
                       th:placeholder="${ItemStartPrice} + ' ì› &#126; ' + ${ItemEndPrice} + ' ì›'">
                       ì¸í’‹ ëŒ€ì‹  ì¸í’‹ì²˜ëŸ¼ ëµˆëŠ” ì¹¸ ë§Œë“¦-->
        <p name="reservationPrice" id="priceInput" class="form-control2 pl-10"
           th:text="${ItemStartPrice == ItemEndPrice ? ItemStartPrice + ' ì›' : ItemStartPrice + ' ì› &#126; ' + ItemEndPrice + ' ì›'}"
           th:value="${ItemStartPrice == ItemEndPrice ? ItemStartPrice + ' ì›' :_}"></p>

        <div th:unless="${ItemStartPrice} == ${ItemEndPrice}">
            <div class="button-horizontal-group" th:each="priceList : ${priceList}">
                <button type="button" id="priceButton" name="priceButton" class="price-button pl-10 pr-10"
                        th:text="${priceList}+' ì›'" th:value="${priceList}+' ì›'"
                        th:onclick="|javascript:priceButtonInput(${priceList})|"></button>
            </div>

            <div class="form-alert-green mt-10">
                <span data-toggle="modal" data-target="#order_modal">&#x24d8; ì™œ ê°€ê²©ì„ ì„¤ì •í•´ì•¼í•˜ë‚˜ìš”?</span>
            </div>
        </div>
    </div>

    <div class="form-title">í”½ì—… ë‚ ì§œ<span style="color: #FF0000"> *</span></div>
    <div class="form-group">
        <input type="date" name="reservationPickupDate" id="reservationPickupDate" class="form-control"
               max="2022-08-31" required>
    </div>

    <div class="form-alert">&check; ìµœì†Œ 2ì¼ ì „ì— ì˜ˆì•½í•´ì•¼ í”Œë¡œë¦¬ìŠ¤íŠ¸ë¶„ê»˜ì„œ ì—¬ìœ ë¡­ê²Œ ê½ƒë‹¤ë°œì„ ì œì‘í•´ë“œë¦´ ìˆ˜ ìˆì–´ìš” !<br>ë‹¹ì¼ ë˜ëŠ” ë‚´ì¼ ì˜ˆì•½ì„ ì›í•˜ì‹œëŠ” ë¶„ì€ ë‹¤ìŒ í˜ì´ì§€ì˜ ì¶”ê°€ ì…ë ¥ ì‚¬í•­ì— ê¸°ì¬í•´ì£¼ì„¸ìš”.</div>


    <div class="form-title">í”½ì—… ì‹œê°„<span style="color: #FF0000"> *</span></div>

    <div class="form-group time-select-group">

        <input type="text" name="reservationPickupTime" id="reservationPickupTime" hidden>

        <select name="reservationPickupP" id="reservationPickupP" size="1" class="time-select" required>
            <option value="">ì˜¤ì „/ì˜¤í›„</option>
            <option value="ì˜¤ì „">ì˜¤ì „</option>
            <option value="ì˜¤í›„">ì˜¤í›„</option>
        </select>

        <select name="reservationPickupHH" id="reservationPickupHH" size="1" class="time-select" required>
            <option value="">&nbsp;&nbsp;ì‹œ</option>
            <option value="01">01</option>
            <option value="02">02</option>
            <option value="03">03</option>
            <option value="04">04</option>
            <option value="05">05</option>
            <option value="06">06</option>
            <option value="07">07</option>
            <option value="08">08</option>
            <option value="09">09</option>
            <option value="10">10</option>
            <option value="11">11</option>
            <option value="12">12</option>
        </select>

        <select name="reservationPickupMM" id="reservationPickupMM" size="1" class="time-select" required>
            <option value="">&nbsp;&nbsp;ë¶„</option>
            <option value="00">00</option>
            <option value="15">15</option>
            <option value="30">30</option>
            <option value="45">45</option>
        </select>

    </div>

    <div class="form-alert">&check; ê°€ê²Œ ìš´ì˜ì‹œê°„ì´ ì•„ë‹Œ ì‹œê°„ì„ ê¸°ì…í•˜ì‹¤ ê²½ìš°,<br>í”½ì—…ì‹œê°„ì— ì¡°ì •ì´ ìˆì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤</div>


    <div class="button-group">
        <button class="button-back" type="button" style="width: 100%; margin-right: 10px"
                onclick="history.back()">ì´ì „
        </button>
        <button class="button-next" type="submit" style="width: 100%;" onclick="getTime(); priceSubmit();">ë‹¤ìŒ</button>
    </div>

</form>


<!-- ëª¨ë‹¬ -->
<div class="modal fade modal-sheet position-static d-block bg-secondary py-5" id="order_modal"
     data-backdrop="static" data-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel"
     aria-hidden="true" role="dialog">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content rounded-4 shadow">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none"
                         xmlns="http://www.w3.org/2000/svg">
                        <path fill-rule="evenodd" clip-rule="evenodd"
                              d="M4.33474 4.33474C4.78105 3.88842 5.50467 3.88842 5.95098 4.33474L19.6653 18.049C20.1116 18.4953 20.1116 19.219 19.6653 19.6653C19.219 20.1116 18.4953 20.1116 18.049 19.6653L4.33474 5.95098C3.88842 5.50467 3.88842 4.78105 4.33474 4.33474Z"
                              fill="#615E69"/>
                        <path fill-rule="evenodd" clip-rule="evenodd"
                              d="M19.6653 4.33474C20.1116 4.78105 20.1116 5.50467 19.6653 5.95098L5.95098 19.6653C5.50467 20.1116 4.78105 20.1116 4.33474 19.6653C3.88842 19.219 3.88842 18.4953 4.33474 18.049L18.049 4.33474C18.4953 3.88842 19.219 3.88842 19.6653 4.33474Z"
                              fill="#615E69"/>
                    </svg>
                </button>
                <h5 class="modal-title">ê½ƒì€ ì‹œì„¸ ë³€ë™ì´ ì¦ì•„<br><span
                        style="color: #4DA360; font-weight: 700">ê°€ê²©ì´ ë§¤ì¼ë§¤ì¼ ë°”ë€Œì–´ìš”!</span>
                </h5>
            </div>

            <div class="modal-body" style="margin: auto">
                <p>ê½ƒë‹¤ë°œì€ ì‹œì„¸ ë³€ë™ì´ ì¦ì•„<br>
                    ë§¤ì¼ë§¤ì¼ ê°€ê²©ì´ ì¡°ê¸ˆì”© ë°”ë€Œì–´ìš”.<br><br>
                    ê½ƒì€ ì •í•´ì§„ ê°€ê²©ìœ¼ë¡œ íŒë§¤í•˜ê¸°ê°€ ì–´ë ¤ì›Œì„œ<br>
                    í™€ë¦¬ëª°ë¦¬ëŠ” ê°€ê²© ë²”ìœ„ë¥¼ ì •í•˜ê³ ,<br>
                    ê·¸ ì•ˆì—ì„œ ì£¼ë¬¸ìê°€ ê°€ê²©ì„ ì„ íƒí•  ìˆ˜ ìˆë„ë¡<br>
                    ë§Œë“¤ì—ˆì–´ìš” !<br><br>
                    <strong>5,000ì› ë‹¨ìœ„</strong>ë¡œ ê°€ê²©ì„ ì„ íƒí•  ìˆ˜ ìˆê³ ,<br>
                    <strong>ê°€ê²©ë³„ë¡œ ê½ƒìƒí’ˆì— ë“¤ì–´ê°€ëŠ” ê½ƒì˜ ê°œìˆ˜ì™€<br>
                        ê½ƒì˜ ì¢…ë¥˜ê°€ ë‹¬ë¼ì§ˆ ìˆ˜ ìˆì–´ìš”.</strong></p>
            </div>
            <div class="modal-footer" style="padding-bottom: 20px">
                <button type="button" class="btn-send" data-dismiss="modal">ì´í•´í–ˆì–´ìš”!</button>
            </div>
        </div>
    </div>
</div>

</body>

<script th:inline="javascript">

    //ê°€ê²© ë²„íŠ¼ ëˆŒë €ì„ ë•Œ ì…ë ¥ì°½ì— ëœ¨ê¸°, ì €ì¥
    function priceButtonInput(pricelist) {
        let priceInput = document.getElementById("priceInput");
        let price = pricelist + ' ì›';

        priceInput.innerHTML = price;
        priceInput.setAttribute('value', price);

        priceInput.style.color = "black";
    }

    // ê°€ê²© ì €ì¥
    function priceSubmit() {
        /*        var priceInput;
                if ( [[${ItemStartPrice}]]===[[${ItemEndPrice}]] ) {
                priceInput = document.getElementById("priceInput2").value;
                }
                else {
                priceInput = document.getElementById("priceInput").value;
                }*/

        let price = document.getElementById("priceInput");

        let reservationPrice = document.getElementById("reservationPrice");
        console.log(price.innerHTML);
        reservationPrice.setAttribute('value', price.innerHTML);
    }


    //ë‚ ì§œ -ì´í‹€ í›„ë¡œ
    let today = new Date();
    today.setHours(today.getHours() + 6);
    today.setDate(today.getDate() + 2);
    document.getElementById("reservationPickupDate").min = today.toISOString().slice(0, 10);

    //ì‹œê°„ ì…ë ¥
    function getTime() {
        let p = document.getElementById("reservationPickupP");
        let hh = document.getElementById("reservationPickupHH");
        let mm = document.getElementById("reservationPickupMM");

        let timeData = p.options[p.selectedIndex].value + " " + hh.options[hh.selectedIndex].value + 'ì‹œ ' + mm.options[mm.selectedIndex].value + 'ë¶„';

        let timeInput = document.getElementById("reservationPickupTime");
        timeInput.setAttribute("value", timeData);
    }

</script>

</html>